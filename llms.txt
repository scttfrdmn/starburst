# staRburst

> Seamless AWS cloud bursting for parallel R workloads

staRburst lets you run parallel R code on AWS Fargate with zero
infrastructure management. Scale from your laptop to 100+ cloud workers
with a simple function call.

## Features

- **Simple Setup**: One-time configuration (~2 minutes), then seamless
  operation
- **Simple API**: Direct
  [`starburst_map()`](https://starburst.ing/reference/starburst_map.md)
  function - no new concepts to learn
- **Detached Sessions**: Submit long-running jobs and detach - retrieve
  results anytime
- **Multiple Backends**: Fargate (serverless) and EC2 (cost-optimized)
  support
- **Automatic Environment Sync**: Your packages and dependencies
  automatically available on workers
- **Smart Quota Management**: Automatically handles AWS quota limits
  with wave execution
- **Cost Transparent**: See estimated and actual costs for every run
- **Auto Cleanup**: Workers shut down automatically when done

## Installation

Currently available via GitHub. CRAN submission planned for v1.0.

``` r
# In the R console:
> install.packages("remotes")
> remotes::install_github("scttfrdmn/starburst")
```

## Quick Start

``` r
library(starburst)

# One-time setup (2 minutes)
starburst_setup()

# Run parallel computation on AWS
results <- starburst_map(
  1:1000,
  function(x) expensive_computation(x),
  workers = 50
)
#> ðŸš€ Starting starburst cluster with 50 workers
#> ðŸ’° Estimated cost: ~$2.80/hour
#> ðŸ“Š Processing 1000 items with 50 workers
#> ðŸ“¦ Created 50 chunks (avg 20 items per chunk)
#> ðŸš€ Submitting tasks...
#> âœ“ Submitted 50 tasks
#> â³ Progress: 50/50 tasks (3.2 minutes elapsed)
#>
#> âœ“ Completed in 3.2 minutes
#> ðŸ’° Estimated cost: $0.15
```

## Example: Monte Carlo Simulation

``` r
library(starburst)

# Define simulation
simulate_portfolio <- function(seed) {
  set.seed(seed)
  returns <- rnorm(252, mean = 0.0003, sd = 0.02)
  prices <- cumprod(1 + returns)

  list(
    final_value = prices[252],
    sharpe_ratio = mean(returns) / sd(returns) * sqrt(252)
  )
}

# Run 10,000 simulations on 100 AWS workers
results <- starburst_map(
  1:10000,
  simulate_portfolio,
  workers = 100
)
#> ðŸš€ Starting starburst cluster with 100 workers
#> ðŸ’° Estimated cost: ~$5.60/hour
#> ðŸ“Š Processing 10000 items with 100 workers
#> â³ Progress: 100/100 tasks (3.1 minutes elapsed)
#>
#> âœ“ Completed in 3.1 minutes
#> ðŸ’° Estimated cost: $0.29

# Extract results
final_values <- sapply(results, function(x) x$final_value)
sharpe_ratios <- sapply(results, function(x) x$sharpe_ratio)

# Summary
mean(final_values)    # Average portfolio outcome
quantile(final_values, c(0.05, 0.95))  # Risk range

# Comparison:
# Local (single core): ~4 hours
# Cloud (100 workers): 3 minutes, $0.29
```

## Advanced Usage

### Reuse Cluster for Multiple Operations

``` r
# Create cluster once
cluster <- starburst_cluster(workers = 50, cpu = 4, memory = "8GB")

# Run multiple analyses
results1 <- cluster$map(dataset1, analysis_function)
results2 <- cluster$map(dataset2, processing_function)
results3 <- cluster$map(dataset3, modeling_function)

# All use the same Docker image and configuration
```

### Custom Worker Configuration

``` r
# For memory-intensive workloads
results <- starburst_map(
  large_datasets,
  memory_intensive_function,
  workers = 20,
  cpu = 8,
  memory = "16GB"
)

# For CPU-intensive workloads
results <- starburst_map(
  cpu_tasks,
  cpu_intensive_function,
  workers = 50,
  cpu = 4,
  memory = "8GB"
)
```

### Detached Sessions

Run long jobs and disconnect - results persist in S3:

``` r
# Start detached session
session <- starburst_session(workers = 50, detached = TRUE)

# Submit work and get session ID
session$submit(quote({
  results <- starburst_map(huge_dataset, expensive_function)
  saveRDS(results, "results.rds")
}))
session_id <- session$session_id

# Disconnect - job continues running
# Later (hours/days), reconnect:
session <- starburst_session_attach(session_id)
status <- session$status()  # Check progress
results <- session$collect()  # Get results

# Cleanup when done
session$cleanup(force = TRUE)
```

## How It Works

1.  **Environment Snapshot**: Captures your R packages using renv
2.  **Container Build**: Creates Docker image with your environment,
    cached in ECR
3.  **Task Distribution**: Splits data into chunks across workers
4.  **Task Submission**: Launches Fargate tasks (or sequential batches
    if quota-limited)
5.  **Data Transfer**: Serializes task data to S3 using fast qs format
6.  **Execution**: Workers pull data, execute function on chunk items,
    push results
7.  **Result Collection**: Downloads and combines results in correct
    order
8.  **Cleanup**: Automatically shuts down workers

## Cost Management

``` r
# Set cost limits
starburst_config(
  max_cost_per_job = 10,      # Hard limit
  cost_alert_threshold = 5     # Warning at $5
)

# Costs shown transparently
results <- starburst_map(data, fn, workers = 100)
#> ðŸ’° Estimated cost: ~$3.50/hour
#> âœ“ Completed in 23 minutes
#> ðŸ’° Estimated cost: $1.34
```

## Quota Management

staRburst automatically handles AWS Fargate quota limitations:

``` r
results <- starburst_map(data, fn, workers = 100, cpu = 4)
#> âš  Requested 100 workers (400 vCPUs) but quota allows 25 workers (100 vCPUs)
#> âš  Using 25 workers instead
#> ðŸ’° Estimated cost: ~$1.40/hour
```

Your work still completes, just with fewer workers. You can request
quota increases through AWS Service Quotas.

## API Reference

### Main Functions

- `starburst_map(.x, .f, workers, ...)` - Parallel map over data
- `starburst_cluster(workers, cpu, memory)` - Create reusable cluster
- [`starburst_setup()`](https://starburst.ing/reference/starburst_setup.md) -
  Initial AWS configuration
- `starburst_config(...)` - Update configuration
- [`starburst_status()`](https://starburst.ing/reference/starburst_status.md) -
  Check cluster status

### Configuration Options

``` r
starburst_config(
  region = "us-east-1",
  max_cost_per_job = 10,
  cost_alert_threshold = 5
)
```

## Documentation

Full documentation available at
**[starburst.ing](https://starburst.ing)**

- [Getting Started
  Guide](https://starburst.ing/articles/getting-started.html)
- [Detached
  Sessions](https://starburst.ing/articles/detached-sessions.html)
- [Example Vignettes](https://starburst.ing/articles/)
- [API Reference](https://starburst.ing/reference/)
- [Security Guide](https://starburst.ing/articles/security.html)
- [Troubleshooting](https://starburst.ing/articles/troubleshooting.html)

## Comparison

| Feature                   | staRburst | RStudio Server on EC2 | Coiled (Python) |
|---------------------------|-----------|-----------------------|-----------------|
| Setup time                | 2 minutes | 30+ minutes           | 5 minutes       |
| Infrastructure management | Zero      | Manual                | Zero            |
| Learning curve            | Minimal   | Medium                | Medium          |
| Auto scaling              | Yes       | No                    | Yes             |
| Cost optimization         | Automatic | Manual                | Automatic       |
| R-native                  | Yes       | Yes                   | No (Python)     |

## Requirements

- R \>= 4.0
- AWS account with:
  - AWS CLI configured or `AWS_PROFILE` set
  - IAM permissions for ECS, ECR, S3, VPC
  - Two IAM roles (created during setup):
    - `starburstECSExecutionRole` - for ECS/ECR access
    - `starburstECSTaskRole` - for S3 access

See
[IMPLEMENTATION_STATUS.md](https://starburst.ing/IMPLEMENTATION_STATUS.md)
for detailed setup instructions.

## Roadmap

### v0.3.6 (Current)

- âœ… Direct API (`starburst_map`, `starburst_cluster`)
- âœ… AWS Fargate integration
- âœ… EC2 backend support with spot instances
- âœ… Detached session mode for long-running jobs
- âœ… Automatic environment management
- âœ… Cost tracking and quota handling
- âœ… Full `future` backend integration
- âœ… Support for `future.apply`, `furrr`, `targets`
- âœ… Comprehensive AWS integration testing

### v1.0.0 (Planned - CRAN Release)

Performance optimizations

Enhanced error recovery

Interactive progress monitoring

Multi-region support

## Contributing

Contributions welcome! See
[CONTRIBUTING.md](https://starburst.ing/CONTRIBUTING.md).

## License

Apache License 2.0 - see [LICENSE](https://starburst.ing/LICENSE)

Copyright 2026 Scott Friedman

## Citation

``` bibtex
@software{starburst,
  title = {staRburst: Seamless AWS Cloud Bursting for R},
  author = {Scott Friedman},
  year = {2026},
  version = {0.3.6},
  url = {https://starburst.ing},
  license = {Apache-2.0}
}
```

## Credits

Built using the [paws](https://github.com/paws-r/paws) AWS SDK for R.

Container management with [renv](https://rstudio.github.io/renv/) and
[rocker](https://rocker-project.org/).

Inspired by [Coiled](https://www.coiled.io/) for Python/Dask.

# Package index

## All functions

- [`StarburstBackend()`](https://starburst.ing/reference/StarburstBackend.md)
  : Starburst Future Backend
- [`future(`*`<starburst>`*`)`](https://starburst.ing/reference/future.starburst.md)
  : Create a Future using Starburst Backend
- [`launchFuture(`*`<StarburstBackend>`*`)`](https://starburst.ing/reference/launchFuture.StarburstBackend.md)
  : Launch a future on the Starburst backend
- [`listFutures(`*`<StarburstBackend>`*`)`](https://starburst.ing/reference/listFutures.StarburstBackend.md)
  : List futures for StarburstBackend
- [`nbrOfWorkers(`*`<StarburstBackend>`*`)`](https://starburst.ing/reference/nbrOfWorkers.StarburstBackend.md)
  : Number of workers for StarburstBackend
- [`plan(`*`<starburst>`*`)`](https://starburst.ing/reference/plan.starburst.md)
  : staRburst Future Backend
- [`print(`*`<StarburstSessionStatus>`*`)`](https://starburst.ing/reference/print.StarburstSessionStatus.md)
  : Print method for session status
- [`resolved(`*`<StarburstFuture>`*`)`](https://starburst.ing/reference/resolved.StarburstFuture.md)
  : Check if StarburstFuture is Resolved
- [`result(`*`<StarburstFuture>`*`)`](https://starburst.ing/reference/result.StarburstFuture.md)
  : Get Result from StarburstFuture
- [`run(`*`<StarburstFuture>`*`)`](https://starburst.ing/reference/run.StarburstFuture.md)
  : Run a StarburstFuture
- [`session-api`](https://starburst.ing/reference/session-api.md) :
  Detached Session API
- [`starburst()`](https://starburst.ing/reference/starburst.md) :
  Starburst strategy marker
- [`starburst_check_quota_request()`](https://starburst.ing/reference/starburst_check_quota_request.md)
  : Monitor quota increase request
- [`starburst_cleanup_ecr()`](https://starburst.ing/reference/starburst_cleanup_ecr.md)
  : Clean up staRburst ECR images
- [`starburst_cluster()`](https://starburst.ing/reference/starburst_cluster.md)
  : Create a Starburst Cluster
- [`starburst_config()`](https://starburst.ing/reference/starburst_config.md)
  : Configure staRburst options
- [`starburst_estimate()`](https://starburst.ing/reference/starburst_estimate.md)
  : Estimate Cloud Performance and Cost
- [`starburst_list_sessions()`](https://starburst.ing/reference/starburst_list_sessions.md)
  : List All Sessions
- [`starburst_logs()`](https://starburst.ing/reference/starburst_logs.md)
  : View worker logs
- [`starburst_map()`](https://starburst.ing/reference/starburst_map.md)
  : Map Function Over Data Using AWS Fargate
- [`starburst_quota_status()`](https://starburst.ing/reference/starburst_quota_status.md)
  : Show quota status
- [`starburst_rebuild_environment()`](https://starburst.ing/reference/starburst_rebuild_environment.md)
  : Rebuild environment image
- [`starburst_request_quota_increase()`](https://starburst.ing/reference/starburst_request_quota_increase.md)
  : Request quota increase (user-facing)
- [`starburst_session()`](https://starburst.ing/reference/starburst_session.md)
  : Create a Detached Starburst Session
- [`starburst_session_attach()`](https://starburst.ing/reference/starburst_session_attach.md)
  : Reattach to Existing Session
- [`starburst_setup()`](https://starburst.ing/reference/starburst_setup.md)
  : Setup staRburst
- [`starburst_setup_ec2()`](https://starburst.ing/reference/starburst_setup_ec2.md)
  : Setup EC2 capacity providers for staRburst
- [`starburst_status()`](https://starburst.ing/reference/starburst_status.md)
  : Show staRburst status

# Articles

### Getting Started

- [Getting Started with
  staRburst](https://starburst.ing/articles/getting-started.md):
- [Detached Session
  Mode](https://starburst.ing/articles/detached-sessions.md):

### Data Processing Examples

Parallel data processing use cases

- [Example: Monte Carlo Portfolio
  Simulation](https://starburst.ing/articles/example-monte-carlo.md):
- [Example: Parallel Bulk API
  Calls](https://starburst.ing/articles/example-api-calls.md):
- [Example: Parallel Geospatial
  Analysis](https://starburst.ing/articles/example-geospatial.md):
- [Example: Parallel Grid Search for Hyperparameter
  Tuning](https://starburst.ing/articles/example-grid-search.md):

### Business Use Cases

Real-world business applications

- [Example: Parallel Portfolio Risk
  Modeling](https://starburst.ing/articles/example-risk-modeling.md):
- [Example: Parallel Feature
  Engineering](https://starburst.ing/articles/example-feature-engineering.md):
- [Example: Bootstrap Confidence Intervals for A/B
  Testing](https://starburst.ing/articles/example-bootstrap.md):
- [Example: Parallel Report
  Generation](https://starburst.ing/articles/example-reports.md):

### Operations & Troubleshooting

Security, debugging, and maintenance

- [Security Best Practices for
  staRburst](https://starburst.ing/articles/security.md):
- [Troubleshooting
  staRburst](https://starburst.ing/articles/troubleshooting.md):
